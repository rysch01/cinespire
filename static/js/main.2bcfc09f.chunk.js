(this["webpackJsonpfirebase-auth-app"]=this["webpackJsonpfirebase-auth-app"]||[]).push([[0],{19:function(e,t,s){},42:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var n=s(3),r=s.n(n),a=s(17),c=s.n(a),i=(s(42),s(5)),l=s.n(i),o=s(7),u=s(9),d=(s(19),s(23));d.a.initializeApp({apiKey:"AIzaSyCP-FvKLrkNtTxcSFtteLeo8b5EV9KYwjw",authDomain:"cinespire-7ab7d.firebaseapp.com",projectId:"cinespire-7ab7d",storageBucket:"cinespire-7ab7d.appspot.com",messagingSenderId:"519022354411",appId:"1:519022354411:web:5fbd66f07b14b2d44683ae",measurementId:"G-M0RDEZ4NVW"});var p=d.a,h=s(18),j=function(e){var t=Object(n.useState)(e),s=Object(u.a)(t,2),r=s[0],a=s[1];return{value:r,onChange:function(e){a(e.target.value)}}},b=s(2),m=p,O=function(e){var t=e.setCurrentUser,s=e.setColorTheme,n=e.setPageOpen,r=e.setmsOpen,a=e.setmlOpen,c=e.setlsOpen,i=j(""),u=j(""),d=function(){var e=Object(o.a)(l.a.mark((function e(o){var d,h,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),e.prev=1,!m){e.next=17;break}return e.next=5,m.auth().createUserWithEmailAndPassword(i.value,u.value);case 5:if(!(d=e.sent)){e.next=17;break}return h=JSON.stringify(d.user.email),j=p.auth().currentUser.uid,e.next=11,p.firestore().collection("users").doc(j).set({email:h,theme:"light",watched:[],watchlist:[]});case 11:t(j),s("light"),n("ms"),r(!0),a(!1),c(!1);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),alert(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"SignupCard",children:[Object(b.jsx)("div",{className:"SignupHeader",children:Object(b.jsx)("h3",{children:"Sign Up"})}),Object(b.jsx)("div",{className:"SignupForm",children:Object(b.jsxs)("form",{onSubmit:d,children:[Object(b.jsx)("input",Object(h.a)({placeholder:"email"},i)),Object(b.jsx)("input",Object(h.a)({type:"password",placeholder:"password"},u)),Object(b.jsx)("button",{type:"submit",children:"Create Account"})]})})]})},v=p,f=function(e){var t=e.setCurrentUser,s=e.setColorTheme,n=e.setPageOpen,r=e.setmsOpen,a=e.setmlOpen,c=e.setlsOpen,i=j(""),u=j(""),d=function(){var e=Object(o.a)(l.a.mark((function e(d){var h,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.preventDefault(),e.prev=1,!v){e.next=17;break}return e.next=5,v.auth().signInWithEmailAndPassword(i.value,u.value);case 5:if(!(h=e.sent)){e.next=16;break}return alert("Welcome back "+h.user.email),t(h.user.email),e.next=11,p.auth().currentUser.uid;case 11:return j=e.sent,e.next=14,p.firestore().collection("users").doc(j).get().then(function(){var e=Object(o.a)(l.a.mark((function e(t){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.data(),s(i.theme),n("ms"),r(!0),a(!1),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:e.next=17;break;case 16:t(null);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),alert(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"SigninCard",children:[Object(b.jsx)("div",{className:"SigninHeader",children:Object(b.jsx)("h3",{children:"Sign In"})}),Object(b.jsx)("div",{className:"SigninForm",children:Object(b.jsxs)("form",{onSubmit:d,children:[Object(b.jsx)("input",Object(h.a)({placeholder:"email"},i)),Object(b.jsx)("input",Object(h.a)({type:"password",placeholder:"password"},u)),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",children:"Sign In"})]})})]})},x=function(e){var t=e.setCurrentUser,s=e.setColorTheme,n=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.auth().signOut();case 3:t(null),alert("signed out"),s("light"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("button",{className:"LogoutButton",onClick:function(){return n()},children:"Log Out"})},g=s(15),S=s.n(g);var w=function(e){e.currentUser;var t=e.setUpdatingWatchlistFlag,s=e.updatingWatchlistFlag,r=e.colorTheme,a=e.setSelectedMovie,c=e.setPageOpen,i=e.setmsOpen,d=e.setmlOpen,h=e.setlsOpen,j=function(e,t){var s=Object(n.useState)([]),r=Object(u.a)(s,2),a=r[0],c=r[1];return Object(n.useEffect)(Object(o.a)(l.a.mark((function t(){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=p.auth().currentUser.uid,p.firestore().collection("users").doc(s).get().then((function(t){var s=t.data();c(s.watchlist),e(!1)}));case 2:case"end":return t.stop()}}),t)}))),[t]),a}(t,s),m=0;function O(){return(O=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({url:"https://www.omdbapi.com/?&apikey=fb8a95d8&t=".concat(t,"&type=movie&plot=full"),method:"get"});case 2:s=e.sent,a(s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"Watchlist"+r,children:[Object(b.jsx)("h2",{children:"Watch List"}),Object(b.jsx)("div",{children:j.map((function(e){return Object(b.jsxs)("div",{className:"WatchlistEntry"+r,children:[Object(b.jsxs)("p",{children:[e.Title," "]}),Object(b.jsxs)("div",{className:"WatchlistButtons"+r,children:[Object(b.jsx)("button",{onClick:function(){!function(e){O.apply(this,arguments)}(e.Title),c("ms"),i(!0),d(!1),h(!1)},children:"More Details"}),Object(b.jsx)("button",{onClick:Object(o.a)(l.a.mark((function s(){var n;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=p.auth().currentUser.uid,s.next=3,p.firestore().collection("users").doc(n).get().then(function(){var s=Object(o.a)(l.a.mark((function s(r){var a;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=r.data().watchlist.filter((function(t){return t.imdbID!==e.imdbID})),s.next=3,p.firestore().collection("users").doc(n).update({watchlist:a});case 3:t(!0);case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}());case 3:case"end":return s.stop()}}),s)}))),children:"Remove from List"})]})]},e.id+"wl"+m++)}))})]})};var k=function(e){e.currentUser;var t=e.setUpdatingWatchedFlag,s=e.updatingWatchedFlag,r=e.colorTheme,a=e.setSelectedMovie,c=e.setPageOpen,i=e.setmsOpen,d=e.setmlOpen,h=e.setlsOpen,j=function(e,t){var s=Object(n.useState)([]),r=Object(u.a)(s,2),a=r[0],c=r[1];return Object(n.useEffect)(Object(o.a)(l.a.mark((function t(){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=p.auth().currentUser.uid,p.firestore().collection("users").doc(s).get().then((function(t){var s=t.data();c(s.watched),e(!1)}));case 2:case"end":return t.stop()}}),t)}))),[t]),a}(t,s),m=0;function O(){return(O=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({url:"https://www.omdbapi.com/?&apikey=fb8a95d8&t=".concat(t,"&type=movie&plot=full"),method:"get"});case 2:s=e.sent,a(s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"Watched"+r,children:[Object(b.jsx)("h2",{children:"Watched"}),Object(b.jsx)("div",{children:j.map((function(e){return Object(b.jsxs)("div",{className:"WatchedEntry"+r,children:[Object(b.jsxs)("p",{children:[e.Title," "]}),Object(b.jsxs)("div",{className:"WatchedButtons"+r,children:[Object(b.jsx)("button",{onClick:function(){!function(e){O.apply(this,arguments)}(e.Title),c("ms"),i(!0),d(!1),h(!1)},children:"More Details"}),Object(b.jsx)("button",{onClick:Object(o.a)(l.a.mark((function s(){var n;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=p.auth().currentUser.uid,s.next=3,p.firestore().collection("users").doc(n).get().then(function(){var s=Object(o.a)(l.a.mark((function s(r){var a;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=r.data().watched.filter((function(t){return t.imdbID!==e.imdbID})),s.next=3,p.firestore().collection("users").doc(n).update({watched:a});case 3:t(!0);case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}());case 3:case"end":return s.stop()}}),s)}))),children:"Remove from List"})]})]},e.id+"wd"+m++)}))})]})};s(35),s(36);function N(e){var t=e.selectedMovie,s=e.setSelectedMovie,n=e.setUpdatingWatchlistFlag,r=e.setUpdatingWatchedFlag,a=e.colorTheme,c=(e.currentUser,e.currentReviewURL),i=e.currentReviewSuggestedText,u=e.setCurrentReviewURL,d=e.setCurrentReviewSuggestedText,h=function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.auth().currentUser.uid,e.next=3,p.firestore().collection("users").doc(s).update({watchlist:p.firestore.FieldValue.arrayUnion(t)});case 3:n(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.auth().currentUser.uid,e.next=3,p.firestore().collection("users").doc(s).update({watched:p.firestore.FieldValue.arrayUnion(t)});case 3:r(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(""!==t){var m=function(){var e=Object(o.a)(l.a.mark((function e(){var s,n,r,a,c,i,o,p,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="01",n="01",r="01",a=parseInt(t.Year),c=parseInt(t.Year),"Jan"==(i=t.Released.substring(3,6))?(r="2",n="12",s=t.Released.substring(0,2),a=parseInt(c)-1):"Feb"==i?(r="03",n="01",s=t.Released.substring(0,2)):"Mar"==i?(r="04",n="02",s=t.Released.substring(0,2)):"Apr"==i?(r="05",n="03",s=t.Released.substring(0,2)):"May"==i?(r="06",n="04",s=t.Released.substring(0,2)):"Jun"==i?(r="07",n="05",s=t.Released.substring(0,2)):"Jul"==i?(r="08",n="06",s=t.Released.substring(0,2)):"Aug"==i?(r="09",n="07",s=t.Released.substring(0,2)):"Sep"==i?(r="10",n="08",s=t.Released.substring(0,2)):"Oct"==i?(r="11",n="09",s=t.Released.substring(0,2)):"Nov"==i?(r="12",n="10",s=t.Released.substring(0,2)):"Dec"==i?(r="01",n="11",s=t.Released.substring(0,2),c=parseInt(c)+1):c=c++,o=a+"-"+n+"-"+s,p=c+"-"+r+"-"+s,e.prev=9,e.next=12,S()({url:"https://api.nytimes.com/svc/movies/v2/reviews/search.json?opening-date=".concat(o,":").concat(p,"&api-key=eiol1fy9uW3jyANb4ZtUlai96rau5OGb"),method:"get",params:{query:t.Title}});case 12:h=e.sent,console.log(h),u(h.data.results[0].link.url),d("Suggested NYTimes Review "+JSON.stringify(h.data.results[0].link.suggested_link_text)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),u(""),d("No Suggested Articles Available");case 22:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),O=0;return Object(b.jsxs)("div",{className:"CurrentCard"+a,children:[Object(b.jsx)("div",{className:"CardBar"+a,children:Object(b.jsx)("div",{className:"ImmediateInfoOuter"+a,children:Object(b.jsxs)("div",{className:"ImmediateInfo",children:[Object(b.jsx)("img",{className:"Image",src:t.Poster,alt:"Poster for "+t,width:160}),Object(b.jsxs)("div",{className:"Details"+a,children:[Object(b.jsx)("p",{className:"Title",children:t.Title}),Object(b.jsxs)("p",{className:"Year",children:["(",t.Year,")"]}),Object(b.jsx)("p",{children:"Starring:"}),Object(b.jsx)("div",{children:t.Actors.split(",").map((function(e){return Object(b.jsx)("p",{className:"Name",children:e},O++)}))}),Object(b.jsxs)("p",{className:"Name",children:["Directed by ",t.Director]})]})]})})}),Object(b.jsx)("div",{className:"MoreDetailsDiv"+a,children:Object(b.jsxs)("div",{className:"MoreDetails"+a,children:[Object(b.jsxs)("div",{className:"Logistics",children:[Object(b.jsxs)("div",{className:"LogisticsData",children:[Object(b.jsx)("h3",{children:"Runtime"}),Object(b.jsx)("p",{children:t.Runtime})]}),Object(b.jsxs)("div",{className:"LogisticsData",children:[Object(b.jsx)("h3",{children:"Rated"}),Object(b.jsx)("p",{children:t.Rated})]}),Object(b.jsxs)("div",{className:"LogisticsData",children:[Object(b.jsx)("h3",{children:"Genre"}),Object(b.jsx)("p",{children:t.Genre})]})]}),Object(b.jsxs)("div",{className:"Synopsis",children:[Object(b.jsx)("h3",{children:"Synopsis"}),Object(b.jsx)("p",{children:t.Plot})]}),Object(b.jsx)("button",{className:"ReviewButton",onClick:function(e){m()},children:"Check for NYTimes Movie Reviews!"}),Object(b.jsxs)("div",{className:"ReviewLink",children:[Object(b.jsx)("p",{children:"Note: This feature works best for recent and/or culturally significant movies (i.e. The Godfather, Star Wars Ep. VII, Godzilla v. Kong)"}),Object(b.jsx)("a",{href:c,target:"_blank",children:i})]}),Object(b.jsx)("button",{className:"BacklogButton",onClick:function(){h(t)},children:"Add to WatchList!"}),Object(b.jsx)("button",{className:"WatchedButton",onClick:function(){j(t)},children:"Already Seen It!"}),Object(b.jsx)("button",{className:"Hide",onClick:function(){s("")},children:"Hide"})]})})]})}return Object(b.jsx)("div",{className:"SearchPromptDiv"+a,children:Object(b.jsx)("div",{className:"Center",children:"Search to get Started!"})})}function C(e){var t,s=e.movieSearcherCurrentResults,n=e.setMovieSearcherCurrentResults,r=(e.selectedMovie,e.setSelectedMovie),a=e.setCurrentReviewURL,c=e.setCurrentReviewSuggestedText;if(""===s)t=Object(b.jsx)("p",{children:"No Results Yet!"});else{var i=function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({url:"https://www.omdbapi.com/?&apikey=fb8a95d8&t=".concat(t.Title,"&type=movie&plot=full"),method:"get"});case 2:s=e.sent,r(s.data),a(""),c(""),n([]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t=Object(b.jsx)("div",{className:"AutoCompleteSuggestions",children:s.map((function(e){return Object(b.jsxs)("button",{className:"AutoCompleteResult",onClick:function(){i(e)},children:[e.Title," - (",e.Year,")"]},e.imdbID)}))})}return t}var y=function(e){var t=e.movieSearcherCurrentResults,s=e.setMovieSearcherCurrentResults,r=e.selectedMovie,a=e.setSelectedMovie,c=e.currentUser,i=e.setUpdatingWatchlistFlag,d=e.setUpdatingWatchedFlag,p=e.colorTheme,h=Object(n.useState)(""),j=Object(u.a)(h,2),m=j[0],O=j[1],v=Object(n.useState)(""),f=Object(u.a)(v,2),x=f[0],g=f[1];return Object(b.jsxs)("div",{className:"MovieSearcher",children:[Object(b.jsx)("div",{className:"SearchSide",children:Object(b.jsxs)("div",{className:"SearchSection",children:[Object(b.jsx)("input",{type:"text",placeholder:"Search Movies By Title!",className:"MovieSearchBar",onChange:function(){var e=Object(o.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,S()({url:"https://www.omdbapi.com/?&apikey=fb8a95d8&s=".concat(n,"&type=movie"),method:"get"});case 3:if(r=e.sent,e.prev=4,void 0===r.data.Search){e.next=11;break}return a=r.data.Search.filter((function(e){return"movie"===e.Type})),c=[],a.forEach((function(e){c.some((function(t){return t.imdbID==e.imdbID}))||c.push(e)})),e.next=11,s(c);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,s([]);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}),Object(b.jsx)(C,{movieSearcherCurrentResults:t,setMovieSearcherCurrentResults:s,selectedMovie:r,setSelectedMovie:a,setCurrentReviewURL:O,setCurrentReviewSuggestedText:g})]})}),Object(b.jsx)(N,{selectedMovie:r,setSelectedMovie:a,setUpdatingWatchlistFlag:i,setUpdatingWatchedFlag:d,colorTheme:p,currentUser:c,currentReviewURL:m,currentReviewSuggestedText:x,setCurrentReviewURL:O,setCurrentReviewSuggestedText:g})]})},R=s(24),T=function(e){var t=e.latLong,s=t;return(0,e.setLatLong)(""),Object(b.jsx)(R.b,{googleMapsApiKey:"AIzaSyAkB7B1ttQoSCSN3fKnhamljAxxaO49i4I",children:Object(b.jsx)(R.a,{mapContainerStyle:{height:"75%",width:"75%",display:"inline-block",position:"relavtive"},zoom:15,center:s})})};function U(e){var t=e.localResults,s=e.setSelectedMovie,n=e.colorTheme,r=e.theaterZip,a=e.setTheaterZip,c=e.localZip,i=e.setFormattedAddress,l=e.setLatLong,o=e.setPageOpen,u=e.setmsOpen,d=e.setmlOpen,p=e.setlsOpen;return""===t?Object(b.jsx)("p",{children:"No Results Yet!"}):Object(b.jsx)("div",{children:t.map((function(e){return Object(b.jsx)("div",{className:"LocalSearcherMovie"+n,children:Object(b.jsx)(M,{local_movie:e,setSelectedMovie:s,colorTheme:n,theaterZip:r,setTheaterZip:a,localZip:c,setFormattedAddress:i,setLatLong:l,setPageOpen:o,setmsOpen:u,setmlOpen:d,setlsOpen:p})},e.tmsId)}))})}function M(e){var t=e.local_movie,s=e.setSelectedMovie,r=e.colorTheme,a=e.theaterZip,c=e.setTheaterZip,i=e.localZip,d=e.setFormattedAddress,p=e.setLatLong,h=e.setPageOpen,j=e.setmsOpen,m=e.setmlOpen,O=e.setlsOpen;function v(){return(v=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()({url:"https://www.omdbapi.com/?&apikey=fb8a95d8&t=".concat(t,"&type=movie&plot=full"),method:"get"});case 2:n=e.sent,s(n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t){e.next=13;break}return e.next=3,S()({url:"https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyAkB7B1ttQoSCSN3fKnhamljAxxaO49i4I",method:"get",params:{address:"".concat(t)}});case 3:s=e.sent,e.prev=4,d(JSON.stringify(s.data.results[0].formatted_address)),p(s.data.results[0].geometry.location),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),e.next=13,d("No Address Available");case 13:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}var x=Object(n.useState)(""),g=Object(u.a)(x,2),w=g[0],k=g[1];return Object(b.jsxs)("div",{className:"LocalMovie"+r,children:[Object(b.jsx)("a",{href:t.officialUrl,className:"LocalTitle"+r,target:"_blank",children:t.title}),Object(b.jsx)("p",{children:t.shortDescription}),Object(b.jsxs)("select",{onChange:function(e){var t=e.nativeEvent.target.selectedIndex;setTimeout((function(){c(e.nativeEvent.target[t].dataset.location+" "+i),k(e.target[t].dataset.url)}),150)},children:[Object(b.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" Choose a Showtime "}),t.showtimes.map((function(e){return Object(b.jsxs)("option",{className:"MovieShowing","data-url":e.ticketURI,"data-location":e.theatre.name,children:[e.theatre.name," at ",e.dateTime]},e.ticketURI+e.theatre.id+e.dateTime)}))]}),Object(b.jsx)("button",{onClick:function(){""!=w&&window.open(w,"_blank")},children:"Purchase Tickets"}),Object(b.jsx)("button",{onClick:function(){a.length>8&&function(e){f.apply(this,arguments)}(a)},children:"Get Address"}),Object(b.jsx)("button",{onClick:function(){!function(e){v.apply(this,arguments)}(t.title),h("ms"),j(!0),m(!1),O(!1)},children:"View More Movie Details"})]})}var L=function(e){var t=e.setSelectedMovie,s=e.colorTheme,r=e.setPageOpen,a=e.setmsOpen,c=e.setmlOpen,i=e.setlsOpen,d=Object(n.useState)(""),p=Object(u.a)(d,2),h=p[0],j=p[1],m=Object(n.useState)(""),O=Object(u.a)(m,2),v=O[0],f=O[1],x=Object(n.useState)(""),g=Object(u.a)(x,2),w=g[0],k=g[1],N=Object(n.useState)(""),C=Object(u.a)(N,2),y=C[0],R=C[1],M=Object(n.useState)(""),L=Object(u.a)(M,2),F=L[0],I=L[1],W=Object(n.useState)(""),A=Object(u.a)(W,2),D=A[0],P=A[1];function B(){return(B=Object(o.a)(l.a.mark((function e(t){var s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.zip,t.range,"dvv6x2m364c35wsxqx595a3p",s=new Date,n=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),e.next=6,S()({url:"https://data.tmsapi.com/v1.1/movies/showings?startDate=".concat(n,"&zip=").concat(v,"&radius=").concat(w,"&api_key=dvv6x2m364c35wsxqx595a3p")});case 6:return r=e.sent,e.next=9,j(r.data);case 9:console.log(h);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsx)("div",{className:"LocalExterior"+s,children:Object(b.jsxs)("div",{className:"LocalSearcher"+s,children:[Object(b.jsxs)("div",{className:"LocalSearcherConsole"+s,children:[Object(b.jsx)("p",{children:"Local Searcher"}),Object(b.jsx)("input",{type:"text",pattern:"[0-9]{5}",placeholder:"Enter Zip",onInput:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target.value,e.next=3,f(s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(b.jsx)("input",{type:"number",min:5,max:100,placeholder:"Enter Range",onInput:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.target.value,k(s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(b.jsx)("button",{onClick:function(e){!function(e){B.apply(this,arguments)}(v,w)},children:"Search"})]}),Object(b.jsx)(U,{localResults:h,setSelectedMovie:t,colorTheme:s,theaterZip:y,setTheaterZip:R,localZip:v,setFormattedAddress:P,setLatLong:I,setPageOpen:r,setmsOpen:a,setmlOpen:c,setlsOpen:i}),Object(b.jsxs)("div",{className:"AddressMap",children:[Object(b.jsxs)("div",{className:"Address",children:[Object(b.jsx)("h4",{children:"Theater Address"}),Object(b.jsx)("p",{children:D})]}),Object(b.jsx)(T,{latLong:F,setLatLong:I})]})]})})};var F=function(e){var t=e.pageOpen,s=e.movieSearcherCurrentResults,n=e.setMovieSearcherCurrentResults,r=e.selectedMovie,a=e.setSelectedMovie,c=e.currentUser,i=e.setUpdatingWatchlistFlag,l=e.setUpdatingWatchedFlag,o=e.colorTheme,u=e.updatingWatchlistFlag,d=e.updatingWatchedFlag,p=e.setPageOpen,h=e.setmsOpen,j=e.setmlOpen,m=e.setlsOpen;return"ms"==t?Object(b.jsx)(y,{movieSearcherCurrentResults:s,setMovieSearcherCurrentResults:n,selectedMovie:r,setSelectedMovie:a,currentUser:c,setUpdatingWatchlistFlag:i,setUpdatingWatchedFlag:l,colorTheme:o}):"ml"==t?Object(b.jsxs)("div",{className:"Lists"+o,children:[Object(b.jsx)(w,{currentUser:c,setUpdatingWatchlistFlag:i,updatingWatchlistFlag:u,colorTheme:o,setSelectedMovie:a,setPageOpen:p,setmsOpen:h,setmlOpen:j,setlsOpen:m}),Object(b.jsx)(k,{currentUser:c,setUpdatingWatchedFlag:l,updatingWatchedFlag:d,colorTheme:o,setSelectedMovie:a,setPageOpen:p,setmsOpen:h,setmlOpen:j,setlsOpen:m})]}):Object(b.jsx)("div",{children:Object(b.jsx)(L,{setSelectedMovie:a,colorTheme:o,setPageOpen:p,setmsOpen:h,setmlOpen:j,setlsOpen:m})})},I=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),s=t[0],r=t[1],a=Object(n.useState)([]),c=Object(u.a)(a,2),i=c[0],d=c[1],h=Object(n.useState)(""),j=Object(u.a)(h,2),m=j[0],v=j[1],g=Object(n.useState)(!1),S=Object(u.a)(g,2),w=S[0],k=S[1],N=Object(n.useState)(!1),C=Object(u.a)(N,2),y=C[0],R=C[1],T=Object(n.useState)("light"),U=Object(u.a)(T,2),M=U[0],L=U[1],I=Object(n.useState)("ms"),W=Object(u.a)(I,2),A=W[0],D=W[1],P=Object(n.useState)(!0),B=Object(u.a)(P,2),E=B[0],Z=B[1],Y=Object(n.useState)(!1),_=Object(u.a)(Y,2),z=_[0],J=_[1],G=Object(n.useState)(!1),K=Object(u.a)(G,2),H=K[0],V=K[1];return Object(n.useEffect)((function(){p&&p.auth().onAuthStateChanged((function(e){!function(e){e?(r(e.uid),v(""),D("ms"),Z(!0),J(!1),V(!1)):r(null)}(e)}))}),[]),p.auth().currentUser?Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{className:"AppHeader",children:[Object(b.jsx)("h1",{children:"CineSpire"}),Object(b.jsx)("button",{className:"ThemePicker",onClick:Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("light"!=M){e.next=6;break}return L("dark"),e.next=4,p.firestore().collection("users").doc(p.auth().currentUser.uid).update({theme:"dark"});case 4:e.next=9;break;case 6:return L("light"),e.next=9,p.firestore().collection("users").doc(p.auth().currentUser.uid).update({theme:"light"});case 9:case"end":return e.stop()}}),e)}))),children:M}),Object(b.jsx)(x,{setCurrentUser:r,setColorTheme:L})]}),Object(b.jsxs)("div",{className:"PageSelector",children:[Object(b.jsx)("button",{className:"selected"+E,onClick:function(){D("ms"),Z(!0),J(!1),V(!1)},children:"Search Movies By Title"}),Object(b.jsx)("button",{className:"selected"+z,onClick:function(){D("ml"),Z(!1),J(!0),V(!1)},children:"My Lists"}),Object(b.jsx)("button",{className:"selected"+H,onClick:function(){D("ls"),Z(!1),J(!1),V(!0)},children:"Search for local movies"})]}),Object(b.jsx)(F,{pageOpen:A,movieSearcherCurrentResults:i,setMovieSearcherCurrentResults:d,selectedMovie:m,setSelectedMovie:v,currentUser:s,setUpdatingWatchlistFlag:k,setUpdatingWatchedFlag:R,colorTheme:M,updatingWatchlistFlag:w,updatingWatchedFlag:y,setPageOpen:D,setmsOpen:Z,setmlOpen:J,setlsOpen:V})]}):Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"AppHeader",children:Object(b.jsx)("h1",{children:"CineSpire"})}),Object(b.jsx)("div",{className:"SigninSignupExt",children:Object(b.jsxs)("div",{className:"SignInSignUp",children:[Object(b.jsx)(f,{setCurrentUser:r,setColorTheme:L,setPageOpen:D,setmsOpen:Z,setmlOpen:J,setlsOpen:V}),Object(b.jsx)(O,{setCurrentUser:r,setColorTheme:L,setPageOpen:D,setmsOpen:Z,setmlOpen:J,setlsOpen:V})]})})]})})},W=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,65)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),W()}},[[64,1,2]]]);
//# sourceMappingURL=main.2bcfc09f.chunk.js.map